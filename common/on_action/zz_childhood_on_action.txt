on_birthday_education_events = {	
	on_actions = {
		zz_mages_education
	}
}
on_15th_birthday = {
}
zz_mages_education = {
	effect = {
		save_scope_as = child
		court_owner ?= {
			save_scope_as = court_owner
			every_court_position_holder ?= {
				type = zz_valyria_court_mages_court_position
				if = {
					limit = { has_variable = court_tutor_teach_kids }
					save_scope_as = court_tutor_scope
					random = {
						chance = {
							value = 5
							add = {
								value = "aptitude(zz_valyria_court_mages_court_position)"
								multiply = 15
							}
						}
						if = {
							limit = {
								aptitude = {
									court_position = zz_valyria_court_mages_court_position
									value >= 3
								}
							}
							save_scope_value_as = {
								name = skill_boost
								value = {
									integer_range = {
										min = 1
										max = 2
									}
								}
							}
						}
						else = {
							save_scope_value_as = {
								name = skill_boost
								value = 1
							}
						}
						scope:court_tutor_scope = {
							random_list = {
								1 = {
									modifier = {
										add = 1
										diplomacy > decent_skill_rating
									}
									save_temporary_scope_as = diplomacy_tutor
								}
								1 = {
									modifier = {
										add = 1
										martial > decent_skill_rating
									}
									save_temporary_scope_as = martial_tutor
								}
								1 = {
									modifier = {
										add = 1
										stewardship > decent_skill_rating
									}
									save_temporary_scope_as = stewardship_tutor
								}
								1 = {
									modifier = {
										add = 1
										learning > decent_skill_rating
									}
									save_temporary_scope_as = learning_tutor
								}
							}
						}
						scope:court_owner ?= {
							send_interface_toast = {
								type = event_royal_court_good
								title = court_tutor_teach_kids_title
								left_icon = scope:child
								right_icon = scope:court_tutor_scope
								if = {
									limit = { this = scope:child }
									custom_tooltip = court_tutor_teach_kids_notification_desc_you
								}
								else = { custom_tooltip = court_tutor_teach_kids_notification_desc }
								scope:child = {
									switch = {
										trigger = exists
										scope:diplomacy_tutor = { add_diplomacy_skill = scope:skill_boost }
										scope:martial_tutor = { add_martial_skill = scope:skill_boost }
										scope:stewardship_tutor = { add_stewardship_skill = scope:skill_boost }
										scope:learning_tutor = { add_learning_skill = scope:skill_boost }
									}
								}
							}
						}
					}
				}
			}
		}
	}
}